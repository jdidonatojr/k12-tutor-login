<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Secure Login for K12 Tutor</title>
  <script type="module">
    // Firebase SDKs
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
    import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signInWithPopup, GoogleAuthProvider, signOut } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-auth.js";

    // Manually inserted real Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyDqVjOj8F_sAvWlgwNP12jx_5tkxWDaxSE",
      authDomain: "k12-tutor-login.firebaseapp.com",
      projectId: "k12-tutor-login",
      storageBucket: "k12-tutor-login.appspot.com",
      messagingSenderId: "829616283731",
      appId: "1:829616283731:web:5efaa30e95fd2062a4b5d9"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    document.addEventListener('DOMContentLoaded', function() {
      const loginForm = document.getElementById('login-form');
      const signupForm = document.getElementById('signup-form');
      const googleButton = document.getElementById('google-signin');
      const logoutButton = document.getElementById('logout-button');

      loginForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const email = document.getElementById('login-email').value;
        const password = document.getElementById('login-password').value;
        signInWithEmailAndPassword(auth, email, password)
          .then(() => window.location.href = "https://esourceu.com")
          .catch((error) => alert(error.message));
      });

      signupForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const email = document.getElementById('signup-email').value;
        const password = document.getElementById('signup-password').value;
        createUserWithEmailAndPassword(auth, email, password)
          .then(() => window.location.href = "https://esourceu.com")
          .catch((error) => alert(error.message));
      });

      googleButton.addEventListener('click', (e) => {
        e.preventDefault();
        const provider = new GoogleAuthProvider();
        signInWithPopup(auth, provider)
          .then(() => window.location.href = "https://esourceu.com")
          .catch((error) => alert(error.message));
      });

      logoutButton.addEventListener('click', (e) => {
        e.preventDefault();
        signOut(auth)
          .then(() => window.location.href = "https://esourceu.com")
          .catch((error) => alert(error.message));
      });
    });
  </script>
</head>
<body>
  <!-- Simple Header and Content for Login/Logout -->
</body>
</html>
